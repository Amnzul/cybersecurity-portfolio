<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>TrueNAS Implementation Project</title>
  <link rel="stylesheet" href="../../styles.css"/>
  <style>
    /* Override: Remove canvas/matrix rain for this page */
    #matrix-rain { display: none !important; }
    body {
      background: #000 !important;
    }
  </style>
</head>
<body>
  <header>
    <h1>Mr. W. - TrueNAS Install</h1>
    <nav>
      <a href="../../index.html">Portfolio Home</a>
    </nav>
  </header>

<section id="truenas_install">
<h2>Project: TrueNAS TrueNAS Scale Install and Setup in a VM</h2>

  
<img src="image-7.png">

<p></p>
<h2>Overview</h2>
<p>I had heard of FreeNAS and wanted to gain experience with an enterprise grade NAS. I soon learned <a href="https://www.truenas.com/">TrueNAS </a>is the next generation of the FreeNAS project.</p>
<p>There were a few versions to choose from in the TrueNAS ecosystem. After a bit of research I found:</p>
<ul>
<li>TrueNAS Enterprise is the commercial version that cost money.</li>
<li>TrueNAS Core was being phased out.</li>
<li>TrueNAS Scale was my option.</li>
</ul>

<p>I enjoy the open source movement as it allows me as a curious hobbyist to experiment with professional level solutions, and emulate an enterprise network in my home lab.</p>
<p>During this project I learned that Windows environments use SMB and Linux computers typically prefer the NFS protocol.</p>
<p>I wanted my network share to be available on both Windows and Linux computers. TrueNAS supports multi-protocol access, allowing the same dataset to be accessed with both NFS and SMB simultaneously. So that worked out well. I set up both!</p>
<p>Truenas documentation can be found <a href="https://www.truenas.com/docs/scale/25.04/scaletutorials/">here</a>.</p>
<p></p>
<h2>TrueNAS OS Install:</h2>
<p>I installed TrueNAS Scale on a virtual machine in virtualbox to provide network wide accessible storage for my home. The ISO file is available on the TrueNAS website.</p>
<p>Virtualbox settings:</p>

<ul>
<li>Linux Oracle 64 bit (Since TrueNAS Scale is Debian based)</li>
<li>8 GB of RAM</li>
<li>3 virtual hard disks (20 GB for OS, 2x 100 GB for storage. TrueNAS requires 2 identical size drives)</li>
<li>Bridged network adapter </li>
</ul>

<p></p>
<h2>TrueNAS Configuration:</h2>
<p>After the OS is installed, there is some setup that needs to take place to use the NAS functionality. </p>
<p>Create a pool in TrueNAS:</p>
  
<ul>
<li>Login into the web console</li>
<li>Select Storage from the right panel</li>
<li>Click on “Create Pool”</li>
<li>Select the drives to use to create the Pool</li>
<li>Select the raid level </li>
</ul>

<p>Create a dataset in TrueNAS:</p>
<ul>
<li>Login into the web console</li>
<li>Select Datasets from the right panel and click on the pool that was just created</li>
<li>Click on “Add Dataset”</li>
<li>Name it and save.</li>
</ul>

<p>Create a user in TrueNAS:</p>
<ul>
<li>Login into the web console</li>
<li>Select credentials from the right panel and click on ‘Local Users’</li>
<li>Click on ‘Add’</li>
<li>Fill in Name, Username, Password.</li>
<li>Leave the remaining option default.</li>
</ul>

<p>On the TrueNAS server set permissions to allow access.</p>
<ul >
<li>Login into the web console</li>
<li>Select Datasets from the right panel and choose your dataset</li>
<li>Find the Permissions box and click ‘Edit’</li>
<li>Allow write permission for group and other. </li>
<li>Save.</li>
</ul>

<p>This is the quick and dirty way of allowing access to the dataset. It works just fine for a personal home network NAS. In a enterprise situation you would customize this for your users instead of allowing everyone the same access. Alternatively, use the mapall user/groups options under the adv options in the NFS Share section.</p>
<p></p>
<p>Share the pool with SMB (Windows) and NFS (Linux)</p>

<img src="image-10.png">

<p></p>
<h2>Connect with a Linux PC:</h2>

<pre ><code>
sudo apt install nfs-common (sudo yum install nfs-utils in the red hat family)
sudo mkdir /mnt/nfs (or wherever you want your mount point)
sudo mount -t nfs 192.168.50.60:/mnt/MainPool/MainDataset /mnt/nfs 
</code></pre>

<img src="image-14.png">

<p>The showmount -e command will show the nfs share is available to be mounted. After it is mounted, I test it by creating a file.</p>
<p></p>
<h2 >Connect with a Windows PC:</h2>

<img src="image-8.png">
<p>Connecting to the SMB share from windows requires a username and password. Someday in the future maybe I’ll experiment with single sign on implementations.</p>
<img src="image-12.png">
<p>Tada!</p>

<img src="image-9.png">

<p></p>
<h2>Conclusions:</h2>

<p>Having TrueNAS up and running can be convenient for moving files around the network. This was mainly a learning project and opportunity to expand experience with networking.</p>
<p>Thats it for now!</p>



<p></p>
<p></p>
<p></p>
    
</section>
<footer>
<p>&copy; 2025 Mr. W. All rights reserved.</p>
<div class="footer">
<a href="https://amnzul.github.io/cybersecurity-portfolio/">Home</a>
</div>
</footer>
</body>
</html>
